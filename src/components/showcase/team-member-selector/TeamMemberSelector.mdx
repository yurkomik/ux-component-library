{/* TeamMemberSelector.mdx - Component Documentation */}
import { Meta, Primary, Controls, Source } from '@storybook/addon-docs/blocks'
import * as TeamMemberSelectorStories from './TeamMemberSelector.stories'

<Meta of={TeamMemberSelectorStories} />

# TeamMemberSelector

A unified team member picker built for CRM workflows where selecting people is a frequent action.

## Why This Component?

In a CRM, you constantly need to assign peopleâ€”opportunity owners, project teams, reviewers, approvers. Rather than building one-off selectors for each use case, this component handles them all:

### Use Cases

- **Single select** â€” Assign one owner/lead â†’ *"Who owns this opportunity?"*
- **Multi-select** â€” Build a team â†’ *"Who's on the delivery team?"*
- **With arrows** â€” Cycle through people â†’ *"Review each person's timesheet"*
- **Icon trigger** â€” Inline additions â†’ *"+ Add reviewer" button in a list*

### Key Features

- **Unified selection** â€” One component for single or multiple selection
- **Arrow navigation** â€” Cycle through team members with â† â†’ arrows
- **Smart filtering** â€” Search by name, email, role; filter by department
- **Management sort** â€” Shows your direct reports first, then peers, then others
- **Keyboard accessible** â€” Full WCAG 2.1 AA compliance

---

## Try It

<Primary />

<Controls />

---

## TeamMember Interface

<Source
  language="typescript"
  code={`
interface TeamMember {
  _id: string
  name: {
    givenName?: string
    familyName?: string
    fullName: string      // Required
  }
  primaryEmail: string
  photoUrl?: string
  role?: string
  orgTitle?: string
  orgDepartment?: string
  isManager?: boolean
  directReports?: string[]
  reportsTo?: string
}
`}
/>

---

## Quick Start

<Source
  language="tsx"
  code={`
import { TeamMemberSelector } from "@/components/team-member-selector"

// Multi-select
<TeamMemberSelector
  teamMembers={teamMembers}
  selectedIds={selectedIds}
  onSelectionChange={setSelectedIds}
/>

// Single-select
<TeamMemberSelector
  variant="single"
  teamMembers={teamMembers}
  selectedIds={ownerId ? [ownerId] : []}
  onSelectionChange={(ids) => setOwnerId(ids[0] || null)}
/>

// With navigation arrows
<TeamMemberSelector
  variant="single"
  showNavigationArrows
  enableKeyboardNavigation
  ...
/>
`}
/>

---

> ğŸ’¡ **More in sidebar:** SingleSelect, MultiSelect, IconTrigger, WithNavigationArrows, loading/error states, filters, and stress tests.
